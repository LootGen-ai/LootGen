<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->

<!--  Last Published: Tue Mar 05 2024 21:09:49 GMT+0000 (Coordinated Universal Time)  -->

<html data-wf-page="65e76450aa5c96b2704c446b" data-wf-site="65de17af603735f271255991">

<head>

  <meta charset="utf-8">

  <title>Character Storage-LootGen</title>

  <meta content="Character Storage" property="og:title">

  <meta content="Character Storage" property="twitter:title">

  <meta content="width=device-width, initial-scale=1" name="viewport">

  <meta content="Webflow" name="generator">

  <link href="../static/css/normalize.css" rel="stylesheet" type="text/css">

  <link href="../static/css/webflow.css" rel="stylesheet" type="text/css">

  <link href="../../static/css/styles-light.css" rel="stylesheet" type="text/css" id="themeStylesheet">

  <style>@media (max-width:991px) and (min-width:768px) {html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd854"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd856"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd855"] {width:1.25rem;}}@media (max-width:767px) and (min-width:480px) {html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd854"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd856"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd855"] {width:1.25rem;}}@media (max-width:479px) {html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd854"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd856"] {-webkit-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-moz-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);-ms-transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);transform:translate3d(0, 0rem, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);}html.w-mod-js:not(.w-mod-ix) [data-w-id="5e894ce4-1498-f0e2-02d0-38c66f5fd855"] {width:1.25rem;}}</style>

  <link href="https://fonts.googleapis.com" rel="preconnect">

  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">

  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>

  <script type="text/javascript">WebFont.load({  google: {    families: ["Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]  }});</script>

  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>

  <link href="static/images/favicon.ico" rel="shortcut icon" type="image/x-icon">

  <link href="static/images/webclip.png" rel="apple-touch-icon">

</head>

<body>
    <script type="text/javascript">

        function fetchCharacter() {
            var char_id = document.getElementById('char_id_input').value;
            fetch(`characters/character/${char_id}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Character not found');
                    }
                    return response.json();
                })
                .then(data => {
                    window.currentCharacterData = data; // Store for editing
                    document.getElementById('characterInfo').innerHTML = generateCharacterDetails(data) +
                        '<button onclick="editCharacter()">Edit Character</button>';
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('characterInfo').textContent = error.toString();
                });
        }

        function generateCharacterDetails(data) {
            var detailsHtml = Object.entries(data).map(([key, value]) => 
                `<p>${key}: <span id="${key}">${value}</span></p>`
            ).join('');
            return detailsHtml;
        }

        function editCharacter() {
            var data = window.currentCharacterData;
            if (data) {
                var editHtml = Object.entries(data).map(([key, value]) =>
                    `<label for="edit_${key}">${key.replace('_', ' ')}:</label>` +
                    `<input type="text" id="edit_${key}" value="${value}"><br>`
                ).join('');
                document.getElementById('characterInfo').innerHTML = editHtml +
                    '<button onclick="submitCharacterEdit()">Submit</button>';
            }
        }

        function submitCharacterEdit() {
            var char_id = document.getElementById('char_id_input').value;
            var updatedData = {};
            Object.keys(window.currentCharacterData).forEach(key => {
                if (key !== 'character_id') {
                    updatedData[key] = document.getElementById(`edit_${key}`).value;
                }
            });

            fetch(`characters/update_character/${char_id}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(updatedData),
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Update failed');
                }
                return response.json();
            })
            .then(data => {
                alert('Update successful');
                fetchCharacter(); // Refresh character details
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error updating character');
            });
        }
    </script>

  <section>
    <div data-w-id="373c1a57-4af5-4a92-52b6-7a6f7dd8bb0f" data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="combine-nav3_component w-nav">
      <div class="combine-padding-global">
        <div class="combine-nav3_container">
          <a href="#" class="combine-nav3_logo-link w-inline-block"></a><img id="secondImage" src="../static/images/LootGen_Logo_Dark.png" alt="Second Image"></a>
          <nav role="navigation" class="combine-nav3_menu w-nav-menu">
            <div class="combine-nav3_link-wrapper">
              <a href="/" class="combine-nav3_link w-nav-link">Home</a>
              <a href="/prompt/select_characters" class="combine-nav3_link w-nav-link">App</a>
              <a href="/welcome" class="combine-nav3_link w-nav-link">Profile</a>
              <div data-hover="false" data-delay="0" class="combine-nav3_dropdown w-dropdown">
                <div class="combine-nav3_dropdown-toggle w-dropdown-toggle">
                  <div class="combine-nav3_icon w-icon-dropdown-toggle"></div>
                  <div>Hoard</div>
                </div>
                <nav class="combine-nav3_dropdown-list w-dropdown-list">
                  <div class="combine-nav3_dropdown-wrapper">
                    <div class="combine-nav3_dropdown-column">
                      <a href="#" class="combine-nav3_item w-dropdown-link">Overview</a>
                      <a href="#" class="combine-nav3_item w-dropdown-link">Watch Demo</a>
                      <a href="#" class="combine-nav3_item w-dropdown-link">Features</a>
                    </div>
                  </div>
                </nav>
              </div>
            </div>
            <div class="combine-nav3_button-wrapper">
              <button id="toggleThemeButton"><img id="modeImage" src="" alt="Mode Image" ></button>
              <a href="/login" class="combine-button-small-copy w-button"><strong>Login</strong></a>
              <a href="/signup" class="combine-button-small-copy w-button"><strong>Sign-Up</strong></a>
            </div>
          </nav>
          <div class="combine-nav3_menu-button w-nav-button">
            <div class="combine-menu-icon">
              <div data-w-id="ccd0207d-836f-fb81-37c5-f3df29bbc82c" class="combine-menu-icon_line-top"></div>
              <div data-w-id="ccd0207d-836f-fb81-37c5-f3df29bbc82d" class="combine-menu-icon_line-middle"></div>
              <div data-w-id="ccd0207d-836f-fb81-37c5-f3df29bbc82e" class="combine-menu-icon_line-bottom"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>

  <div class="w-layout-blockcontainer container-5 w-container">

    <div>

      <div class="w-embed">

        <div class="ddb-character-app-lbpxlg">

          <h1>Profile Page</h1>

        </div>

      </div>

      <div class="w-embed">

<!-- Character List Section -->
<div id="characterList">
  <h1 class="MuiTypography-root MuiTypography-h1 ddb-character-app-2cy0ct">My Characters</h1>
  <button onclick="location.href='/characters/create_character'" class="submit-button">Create A Character</button>
  <ul id="myCharacters">
      <!-- Characters will be appended here -->
  </ul>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  fetchUserCharacters(); // Call this function to fetch and display characters
});

function fetchUserCharacters() {
  // Replace '/characters/user_owned' with the correct Flask route that returns the characters owned by the user
  fetch(`/characters/user_characters`)
      .then(response => response.json())
      .then(characters => {
          const list = document.getElementById('myCharacters');
          characters.forEach(character => {
              const item = document.createElement('ul');
              //item.innerHTML = `<a href="/characters/details/${character.character_id}"><h2 class="MuiTypography-root MuiTypography-h4 ddb-character-app-1jo46fm">${character.name} - Race: ${character.race} - Class: ${character.class_name} - Level: ${character.level}</a>`;
              item.innerHTML = `<div class="status-active MuiBox-root ddb-character-app-n7la4l">

            <div class="ddb-campaigns-character-card-header">

              <div class="ddb-campaigns-character-card-header-cover-image ddb-campaigns-character-card-header-cover-image-user-backdrop" style="background-image: url(&quot;https://www.dndbeyond.com/avatars/61/517/636453152542014800.jpeg&quot;);"></div>

              <div class="ddb-campaigns-character-card-header-upper">

                <a href="/characters/51839150" class="ddb-campaigns-character-card-header-upper-details-link" tabindex="-1" aria-hidden="true"></a>

                <div class="ddb-campaigns-character-card-header-upper-portrait">

                  <div class="image user-selected-avatar" style="background-image: url(&quot;https://www.dndbeyond.com/content/skins/waterdeep/images/characters/default-avatar-builder.png&quot;);"></div>

                </div>

                <div class="ddb-campaigns-character-card-header-upper-character-info">

                  <a href="/characters/details/${character.character_id}"><h2 class="MuiTypography-root MuiTypography-h4 ddb-character-app-1jo46fm">${character.name}</h2>

                  <div class="ddb-campaigns-character-card-header-upper-character-info-secondary">Level${character.level} | Race: ${character.race} | Class: ${character.class_name}</div> </a>
                
                </div>

              </div>

            </div>

            <div class="ddb-campaigns-character-card-footer">

              <div class="ddb-campaigns-character-card-footer-links">`
              
                list.appendChild(item);
          });
      })
      .catch(error => console.error('Error fetching characters:', error));
}
</script>

  <form action="/logout" method="POST">
    <input type="submit" class="submit-button" value="Logout">
    </form>
    
    <button class="submit-button" style="float:right" onclick="document.getElementById('myPopup').style.display = 'block';">Delete Account</button>

    <div id="myPopup" class="popup-container">

      <!-- Popup box -->
          <div class="popup-box">
            <span class="close" onclick="document.getElementById('myPopup').style.display = 'none';">&times;</span>
             <form action='/delete-account' method="POST">
              <p>Please Enter Your Password to Delete Account</p>
              <label for="password">Password:</label>
              <input type="password" id="password" name="password">
              <input type="submit" value="Submit">
             </form>
           </div>
          </div>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65de17af603735f271255991" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <script src="../static/js/webflow.js" type="text/javascript"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const toggleButton = document.getElementById('toggleThemeButton');
        const modeImage = document.getElementById('modeImage');
        const secondImage = document.getElementById('secondImage'); // Add this line to get the second image element
        let isDarkMode = localStorage.getItem('dark-mode') === 'true';
    
        // Function to toggle dark mode
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                document.getElementById('themeStylesheet').href = '../static/css/styles-dark.css';
                modeImage.src = '../static/images/light_mode_sun.png'; // Change image source for dark mode
                secondImage.src = '../static/images/LootGen_Logo_Light.png'; // Change second image source for dark mode
                localStorage.setItem('dark-mode', 'true');
            } else {
                document.getElementById('themeStylesheet').href = '../static/css/styles-light.css';
                modeImage.src = '../static/images/dark_mode_moon.png'; // Change image source for light mode
                secondImage.src = '../static/images/LootGen_Logo_Dark.png'; // Change second image source for light mode
                localStorage.setItem('dark-mode', 'false');
            }
        }
    
        // Check if dark mode should be enabled by default
        if (isDarkMode) {
            document.getElementById('themeStylesheet').href = '../static/css/styles-dark.css';
            modeImage.src = '../static/images/light_mode_sun.png'; // Set initial image source for dark mode
            secondImage.src = '../static/images/LootGen_Logo_Light.png'; // Set initial second image source for dark mode
        } else {
            modeImage.src = '../static/images/dark_mode_moon.png'; // Set initial image source for light mode
            secondImage.src = '../static/images/LootGen_Logo_Dark.png'; // Set initial second image source for light mode
        }
    
        // Event listener for the dark mode toggle button
        toggleButton.addEventListener('click', toggleDarkMode);
    });
    </script>

</html>